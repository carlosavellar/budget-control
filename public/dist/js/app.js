"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var budgetController=function(){console.log("Budget");var c=function e(t,i,n){_classCallCheck(this,e),this.id=t,this.description=i,this.value=n},a={allItems:{inc:[],exp:[]},totals:{inc:0,exp:0},budget:0,percentage:-1},e=function(e){var t=0;return a.allItems[e].forEach(function(e){return t+=e.value}),a.totals[e]=t};return{addItem:function(e,t,i){var n=void 0,l=void 0;return n=0<a.allItems[e].length?a.allItems[e][a.allItems[e].length-1].id+1:0,"inc"===e?l=new c(n,t,i):"exp"===e&&(l=new c(n,t,i)),a.allItems[e].push(l),l},testings:function(){return a},calculateBudget:function(){e("inc"),e("exp"),a.budget=a.totals.inc-a.totals.exp,console.log(a.totals.inc),0<a.totals.inc&&(a.percentage=a.totals.exp/a.totals.inc*100),a.percentage=-1}}}(),uiController=function(){var c={type:".add__type",desc:".add__description",value:".add__value",btn:".add__btn",incList:".income__list",expList:".expenses__list",container:".container",budget:".budget__value",income_lable:".budget__income--value",expense_lable:".budget__expenses--value",month:".budget__title--month",percentage:".budget__expenses--percentage"};return{inputVals:function(){return{getType:document.querySelector(c.type).value,getDesc:document.querySelector(c.desc).value,getValue:parseInt(document.querySelector(c.value).value)}},globalInput:function(){return c},addItem:function(e,t){var i=void 0,n=void 0,l=void 0;"inc"===e?(l=c.incList,i='<div class="item clearfix" id="inc-%id%"> <div class="item__description">%desc%</div> <div class="right clearfix"> <div class="item__value">%val%</div> <div class="item__delete"> <button class="item__delete--btn"><i class="ion-ios-close-outline"></i></button> </div> </div> </div>'):"exp"===e&&(l=c.expList,i='<div class="item clearfix" id="exp-%id%"> <div class="item__description">%desc%</div> <div class="right clearfix"> <div class="item__value">%val%</div> <div class="item__percentage">21%</div> <div class="item__delete"> <button class="item__delete--btn"><i class="ion-ios-close-outline"></i></button> </div> </div> </div>'),n=(n=(n=i.replace("%id%",t.id)).replace("%desc%",t.description)).replace("%val%",t.value),document.querySelector(l).insertAdjacentHTML("beforeend",n)}}}(),controller=function(i,n){var e=n.globalInput(),t=function(){var e,t;e=n.inputVals(),t=i.addItem(e.getType,e.getDesc,e.getValue),n.addItem(e.getType,t),i.calculateBudget()};return{init:function(){document.querySelector(e.btn).addEventListener("click",t),document.addEventListener("keypress",function(e){13!==e.keycode&&13!==e.which||t()}),i.testings()}}}(budgetController,uiController);controller.init();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJidWRnZXRDb250cm9sbGVyIiwiY29uc29sZSIsImxvZyIsIkluY29tZSIsImRlc2NyaXB0aW9uIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsInZhbHVlIiwiZGF0YSIsImFsbEl0ZW1zIiwiaWQiLCJpbmMiLCJleHAiLCJ0b3RhbHMiLCJwZXJjZW50YWdlIiwidHlwZSIsInN1bSIsImNhbGNUb3RhbHMiLCJidWRnZXQiLCJmb3JFYWNoIiwiY3VyciIsImFkZEl0ZW0iLCJJRCIsIm5ld0l0ZW0iLCJsZW5ndGgiLCJ0ZXN0aW5ncyIsImNhbGN1bGF0ZUJ1ZGdldCIsInVpQ29udHJvbGxlciIsImJ0biIsImluY0xpc3QiLCJkb21zdHJpbmdzIiwiZGVzYyIsImNvbnRhaW5lciIsImluY29tZV9sYWJsZSIsImV4cGVuc2VfbGFibGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXREZXNjIiwicGFyc2VJbnQiLCJpbnB1dFZhbHMiLCJnZXRWYWx1ZSIsImVsZW1lbnQiLCJnbG9iYWxJbnB1dCIsImV4cExpc3QiLCJuZXdIdG1sIiwib2JqIiwicmVwbGFjZSIsImluc2VydEFkamFjZW50SFRNTCIsImh0bWwiLCJ1aUN0cmwiLCJEb20iLCJjb250cm9sQWRkSXRlbSIsImlucHV0IiwiY29udHJvbGxlciIsImJ1ZGdldEN0cmwiLCJnZXRUeXBlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJ3aGljaCIsInVwZGF0ZUJ1ZGdldCIsImluaXQiXSwibWFwcGluZ3MiOiJ5SEFBQSxJQUFNQSxpQkFBb0IsV0FDdEJDLFFBQVFDLElBQUksVUFEZ0IsSUFLcEJDLEVBQ0EsU0FBQUEsRUFBS0MsRUFBTEEsRUFBbUJBLEdBQW5CQyxnQkFBQUMsS0FBQUgsR0FDQUcsS0FBS0MsR0FBUUEsRUFQT0QsS0FBQUYsWUFBQUEsRUFjcEJFLEtBQUtDLE1BQVFBLEdBR2pCQyxFQUFPLENBTEhDLFNBQVVDLENBQ1ZDLElBQUtQLEdBQ0xRLElB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Iiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYnVkZ2V0Q29udHJvbGxlciA9ICgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ0J1ZGdldCcpO1xuXG4gICAgY2xhc3MgRXhwZW5zZSB7XG4gICAgICAgIGNvbnN0cnVjdG9yKGlkLCBkZXNjcmlwdGlvbiwgdmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGFzcyBJbmNvbWUge1xuICAgICAgICBjb25zdHJ1Y3RvcihpZCwgZGVzY3JpcHRpb24sIHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRhdGEgPSB7XG4gICAgICAgIGFsbEl0ZW1zOiB7XG4gICAgICAgICAgICBpbmM6IFtdLFxuICAgICAgICAgICAgZXhwOiBbXVxuICAgICAgICB9LFxuICAgICAgICB0b3RhbHM6IHtcbiAgICAgICAgICAgIGluYzogMCxcbiAgICAgICAgICAgIGV4cDogMFxuICAgICAgICB9LFxuICAgICAgICBidWRnZXQ6IDAsXG4gICAgICAgIHBlcmNlbnRhZ2U6IC0xXG4gICAgfTtcblxuICAgIGNvbnN0IGNhbGNUb3RhbHMgPSAodHlwZSkgPT4ge1xuICAgICAgICBsZXQgc3VtID0gMDtcbiAgICAgICAgZGF0YS5hbGxJdGVtc1t0eXBlXS5mb3JFYWNoKGN1cnIgPT4gc3VtICs9IGN1cnIudmFsdWUpO1xuICAgXG4gICAgICAgIGRhdGEudG90YWxzW3R5cGVdID0gc3VtO1xuICBcbiAgICAgICAgcmV0dXJuIHN1bTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkSXRlbTogKHR5cGUsIGRlc2NyaXB0aW9uLCB2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgbGV0IElELCBuZXdJdGVtO1xuICAgICAgICAgICAgaWYgKGRhdGEuYWxsSXRlbXNbdHlwZV0ubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIElEID0gZGF0YS5hbGxJdGVtc1t0eXBlXVtkYXRhLmFsbEl0ZW1zW3R5cGVdLmxlbmd0aCAtIDFdLmlkICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgSUQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdpbmMnKSB7XG4gICAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ldyBJbmNvbWUoSUQsIGRlc2NyaXB0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdleHAnKSB7XG4gICAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ldyBJbmNvbWUoSUQsIGRlc2NyaXB0aW9uLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmFsbEl0ZW1zW3R5cGVdLnB1c2gobmV3SXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3SXRlbTtcbiAgICAgICAgfSxcbiAgICAgICAgdGVzdGluZ3M6ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9LFxuICAgICAgICBjYWxjdWxhdGVCdWRnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgIC8vICBjYWxjIFRvdGxhc1xuICAgICAgICAgICAgY2FsY1RvdGFscygnaW5jJyk7XG4gICAgICAgICAgICBjYWxjVG90YWxzKCdleHAnKTtcbiAgICAgICAgICAgIC8vIGNhbGMgYnVkZ2V0XG4gICAgICAgICAgICBkYXRhLmJ1ZGdldCA9IGRhdGEudG90YWxzLmluYyAtIGRhdGEudG90YWxzLmV4cDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEudG90YWxzLmluYyk7XG4gICAgICAgICAgICAvLyBDYWxjIHBlcmNlbnRhZ2UgXG4gICAgICAgICAgICBpZiAoZGF0YS50b3RhbHMuaW5jID4gMCkge1xuICAgICAgICAgICAgICAgIGRhdGEucGVyY2VudGFnZSA9IChkYXRhLnRvdGFscy5leHAgLyBkYXRhLnRvdGFscy5pbmMpICogMTAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5wZXJjZW50YWdlID0gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbn0pKCk7XG5jb25zdCB1aUNvbnRyb2xsZXIgPSAoKCkgPT4ge1xuICAgIGxldCBkb21zdHJpbmdzID0ge1xuICAgICAgICB0eXBlOiBcIi5hZGRfX3R5cGVcIixcbiAgICAgICAgZGVzYzogXCIuYWRkX19kZXNjcmlwdGlvblwiLFxuICAgICAgICB2YWx1ZTogXCIuYWRkX192YWx1ZVwiLFxuICAgICAgICBidG46IFwiLmFkZF9fYnRuXCIsXG4gICAgICAgIGluY0xpc3Q6IFwiLmluY29tZV9fbGlzdFwiLFxuICAgICAgICBleHBMaXN0OiBcIi5leHBlbnNlc19fbGlzdFwiLFxuICAgICAgICBjb250YWluZXI6IFwiLmNvbnRhaW5lclwiLFxuICAgICAgICBidWRnZXQ6IFwiLmJ1ZGdldF9fdmFsdWVcIixcbiAgICAgICAgaW5jb21lX2xhYmxlOiBcIi5idWRnZXRfX2luY29tZS0tdmFsdWVcIixcbiAgICAgICAgZXhwZW5zZV9sYWJsZTogXCIuYnVkZ2V0X19leHBlbnNlcy0tdmFsdWVcIixcbiAgICAgICAgbW9udGg6IFwiLmJ1ZGdldF9fdGl0bGUtLW1vbnRoXCIsXG4gICAgICAgIHBlcmNlbnRhZ2U6IFwiLmJ1ZGdldF9fZXhwZW5zZXMtLXBlcmNlbnRhZ2VcIlxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5wdXRWYWxzOiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGdldFR5cGU6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZG9tc3RyaW5ncy50eXBlKS52YWx1ZSxcbiAgICAgICAgICAgICAgICBnZXREZXNjOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRvbXN0cmluZ3MuZGVzYykudmFsdWUsXG4gICAgICAgICAgICAgICAgZ2V0VmFsdWU6IHBhcnNlSW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZG9tc3RyaW5ncy52YWx1ZSkudmFsdWUpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdsb2JhbElucHV0OiAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZG9tc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgYWRkSXRlbTogKHR5cGUsIG9iaikgPT4ge1xuICAgICAgICAgICAgbGV0IGh0bWwsIG5ld0h0bWwsIGVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2luYycpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gZG9tc3RyaW5ncy5pbmNMaXN0O1xuICAgICAgICAgICAgICAgIGh0bWwgPSAnPGRpdiBjbGFzcz1cIml0ZW0gY2xlYXJmaXhcIiBpZD1cImluYy0laWQlXCI+IDxkaXYgY2xhc3M9XCJpdGVtX19kZXNjcmlwdGlvblwiPiVkZXNjJTwvZGl2PiA8ZGl2IGNsYXNzPVwicmlnaHQgY2xlYXJmaXhcIj4gPGRpdiBjbGFzcz1cIml0ZW1fX3ZhbHVlXCI+JXZhbCU8L2Rpdj4gPGRpdiBjbGFzcz1cIml0ZW1fX2RlbGV0ZVwiPiA8YnV0dG9uIGNsYXNzPVwiaXRlbV9fZGVsZXRlLS1idG5cIj48aSBjbGFzcz1cImlvbi1pb3MtY2xvc2Utb3V0bGluZVwiPjwvaT48L2J1dHRvbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4nO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZXhwJykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBkb21zdHJpbmdzLmV4cExpc3Q7XG4gICAgICAgICAgICAgICAgaHRtbCA9ICc8ZGl2IGNsYXNzPVwiaXRlbSBjbGVhcmZpeFwiIGlkPVwiZXhwLSVpZCVcIj4gPGRpdiBjbGFzcz1cIml0ZW1fX2Rlc2NyaXB0aW9uXCI+JWRlc2MlPC9kaXY+IDxkaXYgY2xhc3M9XCJyaWdodCBjbGVhcmZpeFwiPiA8ZGl2IGNsYXNzPVwiaXRlbV9fdmFsdWVcIj4ldmFsJTwvZGl2PiA8ZGl2IGNsYXNzPVwiaXRlbV9fcGVyY2VudGFnZVwiPjIxJTwvZGl2PiA8ZGl2IGNsYXNzPVwiaXRlbV9fZGVsZXRlXCI+IDxidXR0b24gY2xhc3M9XCJpdGVtX19kZWxldGUtLWJ0blwiPjxpIGNsYXNzPVwiaW9uLWlvcy1jbG9zZS1vdXRsaW5lXCI+PC9pPjwvYnV0dG9uPiA8L2Rpdj4gPC9kaXY+IDwvZGl2Pic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdIdG1sID0gaHRtbC5yZXBsYWNlKCclaWQlJywgb2JqLmlkKTtcbiAgICAgICAgICAgIG5ld0h0bWwgPSBuZXdIdG1sLnJlcGxhY2UoJyVkZXNjJScsIG9iai5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgICBuZXdIdG1sID0gbmV3SHRtbC5yZXBsYWNlKCcldmFsJScsIG9iai52YWx1ZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW1lbnQpLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgbmV3SHRtbCk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuY29uc3QgY29udHJvbGxlciA9ICgoYnVkZ2V0Q3RybCwgdWlDdHJsKSA9PiB7XG4gICAgbGV0IERvbSA9IHVpQ3RybC5nbG9iYWxJbnB1dCgpO1xuXG4gICAgY29uc3QgdXBkYXRlQnVkZ2V0ID0gKCkgPT4ge1xuICAgICAgICBidWRnZXRDdHJsLmNhbGN1bGF0ZUJ1ZGdldCgpO1xuICAgIH07XG4gICAgY29uc3QgY29udHJvbEFkZEl0ZW0gPSAoKSA9PiB7XG4gICAgICAgIGxldCBpbnB1dCwgbmV3SXRlbTtcbiAgICAgICAgaW5wdXQgPSB1aUN0cmwuaW5wdXRWYWxzKCk7XG4gICAgICAgIG5ld0l0ZW0gPSBidWRnZXRDdHJsLmFkZEl0ZW0oaW5wdXQuZ2V0VHlwZSwgaW5wdXQuZ2V0RGVzYywgaW5wdXQuZ2V0VmFsdWUpO1xuXG4gICAgICAgIHVpQ3RybC5hZGRJdGVtKGlucHV0LmdldFR5cGUsIG5ld0l0ZW0pO1xuXG4gICAgICAgIHVwZGF0ZUJ1ZGdldCgpO1xuICAgIH07XG4gICAgY29uc3QgZXZ0TGlzdGVuZXJzID0gKCkgPT4ge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKERvbS5idG4pLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29udHJvbEFkZEl0ZW0pO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgZSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5rZXljb2RlID09PSAxMyB8fCBlLndoaWNoID09PSAxMykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xBZGRJdGVtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkZWJ1Z2dlcjtcbiAgICAgICAgYnVkZ2V0Q3RybC50ZXN0aW5ncygpO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiAoKSA9PiB7XG4gICAgICAgICAgICBldnRMaXN0ZW5lcnMoKTtcbiAgICAgICAgfVxuICAgIH07XG5cblxufSkoYnVkZ2V0Q29udHJvbGxlciwgdWlDb250cm9sbGVyKTtcbmNvbnRyb2xsZXIuaW5pdCgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
